{"ast":null,"code":"import _asyncToGenerator from\"/home/deepak/Videos/quiz-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/deepak/Videos/quiz-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/deepak/Videos/quiz-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/deepak/Videos/quiz-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{Button,CircularProgress,Grid,TextField,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import SelectField from\"../Components/SelectField\";import TextFieldCom from\"../Components/TextField\";import{useDispatch,useSelector}from\"react-redux\";import Snackbar from'@mui/material/Snackbar';import MuiAlert from'@mui/material/Alert';import useFetchData,{getQuestions}from\"../hooks/Axios\";import{handleCategoryChange,handleDifficultyChange,handleLimitChange,handleNameChange,handleScoreChnage,questionAnswers}from\"../Redux/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categoryOptions=[{id:\"Random\",name:\"Random\"},{id:\"Linux\",name:\"Linux\"},{id:\"DevOps\",name:\"DevOps\"},{id:\"Networking\",name:\"Networking\"},{id:\"Cloud\",name:\"Cloud\"},{id:\"Docker\",name:\"Docker\"}];var difficultyOption=[{id:\"easy\",name:\"Easy\"},{id:\"medium\",name:\"Medium\"},{id:\"hard\",name:\"Hard\"}];var typeOptions=[{id:\"5\",name:\"5\"},{id:\"10\",name:\"10\"},{id:\"15\",name:\"15\"},{id:\"20\",name:\"20\"}];var errObject={401:\"Unauthenticated\",404:\"No questions found\",429:\"Too Many Requests\"};var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});var Setting=function Setting(){var _useFetchData=useFetchData({url:\"/api_category.php\"}),response=_useFetchData.response,loading=_useFetchData.loading,error=_useFetchData.error;var history=useHistory();var _useSelector=useSelector(function(state){return state;}),question_category=_useSelector.question_category,question_difficulty=_useSelector.question_difficulty,question_limit=_useSelector.question_limit,name=_useSelector.name;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];useEffect(function(){clearState();},[]);var dispatch=useDispatch();if(loading){return/*#__PURE__*/_jsx(Box,{mt:20,children:/*#__PURE__*/_jsx(CircularProgress,{})});}function clearState(){dispatch(handleScoreChnage(0));dispatch(handleCategoryChange(\"\"));dispatch(handleDifficultyChange(\"\"));dispatch(handleLimitChange(\"\"));dispatch(handleNameChange(\"\"));}if(error){return/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mt:20,color:\"red\",children:\"Something went wrong!!\"});}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var url,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();console.log(\"name : \",name);url=\"https://quizapi.io/api/v1/questions?\".concat(question_category?\"category=\"+question_category:\"\").concat(question_difficulty?\"&difficulty=\"+question_difficulty:\"\").concat(question_limit?\"&limit=\"+question_limit:\"\");console.log(\"event : \",url);_context.next=6;return getQuestions(url);case 6:result=_context.sent;if(!errObject[result]){dispatch(questionAnswers(result));history.push(\"/question\");}else{setResult(errObject[result]);setOpen(true);}console.log(\"result\",result);// history.push(\"/question\");\ncase 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Grid,{sx:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",maxWidth:\"100%\",flexDirection:\"column\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",fontWeight:\"bold\",children:\"Quiz App\"}),/*#__PURE__*/_jsx(Box,{className:\"form-card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-box\",children:[/*#__PURE__*/_jsx(TextFieldCom,{className:\"input-name\",children:\"Name\"}),/*#__PURE__*/_jsx(SelectField,{className:\"input-name\",options:categoryOptions,label:\"Category\"}),/*#__PURE__*/_jsx(SelectField,{className:\"input-name\",options:difficultyOption,label:\"Difficulty\"}),/*#__PURE__*/_jsx(SelectField,{className:\"input-name\",options:typeOptions,label:\"Limit\"}),/*#__PURE__*/_jsx(Snackbar,{className:\"input-name\",open:open,autoHideDuration:6000,onClose:function onClose(){return setOpen(false);},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:result})}),/*#__PURE__*/_jsx(Box,{mt:3,width:\"100%\",children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",type:\"submit\",children:\"Get Started\"})})]})})]});};export default Setting;","map":{"version":3,"sources":["/home/deepak/Videos/quiz-app/src/Pages/Setting.jsx"],"names":["React","useEffect","useState","useHistory","Button","CircularProgress","Grid","TextField","Typography","Box","SelectField","TextFieldCom","useDispatch","useSelector","Snackbar","MuiAlert","useFetchData","getQuestions","handleCategoryChange","handleDifficultyChange","handleLimitChange","handleNameChange","handleScoreChnage","questionAnswers","categoryOptions","id","name","difficultyOption","typeOptions","errObject","Alert","forwardRef","props","ref","Setting","url","response","loading","error","history","state","question_category","question_difficulty","question_limit","open","setOpen","result","setResult","clearState","dispatch","handleSubmit","event","preventDefault","console","log","push","display","alignItems","justifyContent","maxWidth","flexDirection","minHeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport SelectField from \"../Components/SelectField\";\nimport TextFieldCom from \"../Components/TextField\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport useFetchData, { getQuestions } from \"../hooks/Axios\";\nimport { handleCategoryChange, handleDifficultyChange, handleLimitChange, handleNameChange, handleScoreChnage, questionAnswers } from \"../Redux/action\";\n\nconst categoryOptions = [\n  { id: \"Random\", name: \"Random\" },\n  { id: \"Linux\", name: \"Linux\" },\n  { id: \"DevOps\", name: \"DevOps\" },\n  { id: \"Networking\", name: \"Networking\" },\n  { id: \"Cloud\", name: \"Cloud\" },\n  { id: \"Docker\", name: \"Docker\" },\n]\n\nconst difficultyOption = [\n  { id: \"easy\", name: \"Easy\" },\n  { id: \"medium\", name: \"Medium\" },\n  { id: \"hard\", name: \"Hard\" },\n];\n\nconst typeOptions = [\n  { id: \"5\", name: \"5\" },\n  { id: \"10\", name: \"10\" },\n  { id: \"15\", name: \"15\" },\n  { id: \"20\", name: \"20\" },\n];\n\nconst errObject = {\n  401: \"Unauthenticated\",\n  404: \"No questions found\",\n  429: \"Too Many Requests\"\n}\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst Setting = () => {\n  const { response, loading, error } = useFetchData({ url: \"/api_category.php\" });\n  const history = useHistory();\n  const { question_category, question_difficulty, question_limit, name } = useSelector((state) => state);\n  const [open, setOpen] = React.useState(false);\n  const[result,setResult] = useState()\n  useEffect(() => {\n    clearState()\n  }, [])\n\n  const dispatch = useDispatch()\n  if (loading) {\n    return (\n      <Box mt={20}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  function clearState() {\n    dispatch(handleScoreChnage(0));\n    dispatch(handleCategoryChange(\"\"));\n    dispatch(handleDifficultyChange(\"\"))\n    dispatch(handleLimitChange(\"\"))\n    dispatch(handleNameChange(\"\"))\n  }\n\n\n\n  if (error) {\n    return (\n\n      <Typography variant=\"h6\" mt={20} color=\"red\">\n        Something went wrong!!\n      </Typography>\n    );\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"name : \", name);\n    const url = `https://quizapi.io/api/v1/questions?${question_category ? \"category=\" + question_category : \"\"}${question_difficulty ? \"&difficulty=\" + question_difficulty : \"\"}${question_limit ? \"&limit=\" + question_limit : \"\"}`\n    console.log(\"event : \", url);\n\n    const result = await getQuestions(url)\n    if (!errObject[result]) {\n      dispatch(questionAnswers(result))\n      history.push(\"/question\");\n    }else{\n      setResult(errObject[result])\n      setOpen(true)\n    }\n    console.log(\"result\", result)\n    // history.push(\"/question\");\n  };\n\n\n  return (\n<Grid sx={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",maxWidth:\"100%\",flexDirection:\"column\",minHeight:\"100vh\"}}>\n<Typography variant=\"h2\" fontWeight=\"bold\">\n                  Quiz App\n                </Typography>\n                <Box className=\"form-card\">\n    <form onSubmit={handleSubmit} className=\"form-box\">\n      <TextFieldCom  className=\"input-name\" >Name</TextFieldCom>\n      <SelectField className=\"input-name\" options={categoryOptions} label=\"Category\" />\n      <SelectField className=\"input-name\" options={difficultyOption} label=\"Difficulty\" />\n      <SelectField className=\"input-name\" options={typeOptions} label=\"Limit\" />\n      <Snackbar className=\"input-name\"   open={open} autoHideDuration={6000} onClose={()=>setOpen(false)}>\n      <Alert severity=\"error\">{result}</Alert>\n      </Snackbar>\n     \n      <Box mt={3} width=\"100%\">\n        <Button fullWidth variant=\"contained\" type=\"submit\">\n          Get Started\n        </Button>\n      </Box>\n    </form>\n    </Box>\n    </Grid>\n\n  );\n};\n\nexport default Setting;\n"]},"metadata":{},"sourceType":"module"}